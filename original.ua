# Experimental!
I ~ "git: github.com/Marcos-cat/iris"

TileSize   â† â£(â‹•Â°â–¡âŠ¡3&args|100)
GridSize   â† â£(â‹•Â°/$"_x_"Â°â–¡âŠ¡1&args|8_10)
Dims       â† Ã—TileSize â‡ŒGridSize
NMines     â† â£(â‹•Â°â–¡âŠ¡2&args|10)
Mines      â† âœâ™­(Â°â†âœâ†™Â¬NMines) Ëœâ†¯0GridSize
Numbers    â† â§ˆ(â§»âŠš) â¬š1â†¯3 3_3 Mines
BlankAreas â† Â±â§ˆ(â§»âŠš) â¬š1â†¯3 3_3 =0Numbers

I~Open Dims "Minesweeper"
I~Screen!Â°FPS 30

Checker    â† âŠâ—¿â‚‚/+Â°â‰â‡¡GridSize
BgTx       â† I~Texture~LoadImage Checker I~Color~Hex"#e5c29f"_"#d7b899"
CoverTx    â† I~Texture~LoadImage Checker I~Color~Hex"#aad751ff"_"#99d149ff"
LayoutGrid â† â‰âŠŸâŠ¸âŒˆ â¥â‚‚/â‰¡âŠ‚â‰¡â‚€(â†»âŸœ(âŒâ†˜Ã—â‚‚)âŠŸ0âŠƒÃ·â‚…layout)
NumbersTx  â† I~Texture~LoadImage LayoutGrid TileSize ËœâŠâŠ‚@ +@1â‡¡9 Ã—Â¬Mines Numbers

Won  â† â‰Mines
Lost â† Â±â§»âŠšÃ—MinesÂ¬

âŸœÂ¬Ëœâ†¯1GridSize

TilePx  â† +Ã·â‚‚âŸœÃ—TileSizeâ‰¡â‡ŒâŠš
TileIdx â† ËœâŠŸÂ°â„‚âŒŠÃ·TileSize
â—Œâ—ŒI~Loop!(
  â¥(
    I~Mouse!Pressedâ€¼Right(âŸœÃ— âœğ„âŠ¡Â¬ TileIdx)
    I~Mouse!Pressedâ€¼Left (âŠ¸âˆ¨ â¨¬âœâŠ¡â†§â‚€(âœâŠœâ–¡âš(â¥â†§â‚€âŠ¸ËœâˆŠâˆ)BlankAreas âœâŠ¡â‹…âˆ) âŠ¸(=0ËœâŠ¡Numbers) TileIdx)
    âŠ¸(â—Œ Â°âŠ¸(I~Color~Alpha I~Texture~Image) âŠ™CoverTx)
  ) âŠ¸(Â¬âˆ¨âŠƒWon Lost)

  I~Texture~DrawScreen BgTx_NumbersTx
  I~Draw~Circle Black Ã·â‚„TileSize TilePx Mines
  I~Texture~DrawScreen CoverTx
  â—¡â‹…(I~Draw~Centered~Square Red Ã·â‚‚TileSize TilePx)
  I~Draw~Square ËœâŠ‚0.2WhiteâŸœâœÃ·âŒŠTileSize I~Mouse~Pos
  I~Draw~Centered~Text Black 120 Ã·â‚‚Dims â–½âŠ¸âŠ“[âŠƒWon Lost]{"You Win :)" "You Lose :("}
)
